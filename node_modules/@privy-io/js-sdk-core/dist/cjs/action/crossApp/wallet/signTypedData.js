"use strict";var e=require("../../../utils/typedData/generateDomainType.js"),r=require("./utils/isCrossAppWalletSmart.js"),s=require("./utils/sendCrossAppRequest.js"),t=require("./utils/throwIfNotLoggedIn.js");require("../../../Error.js"),require("./utils/getCrossAppAccountByWalletAddress.js"),require("./utils/getProviderAccessTokenOrRelink.js"),require("../linkWithCrossAppAuth.js");exports.signTypedData=({client:i,openAuthSession:a})=>{let u=s.sendCrossAppRequest({client:i,openAuthSession:a});return async({user:s,typedData:i,address:a,redirectUrl:n})=>{t.throwIfNotLoggedIn(s);let o={method:r.isCrossAppWalletSmart(s,a)?"privy_signSmartWalletTypedData":"eth_signTypedData_v4",params:[a,e.generateDomainType(i)]},{result:p}=await u({user:s,request:o,address:a,redirectUrl:n});return{signature:p}}};
