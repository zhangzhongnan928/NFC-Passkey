"use strict";var e=require("../../utils/getUserEmbeddedEthereumWallet.js"),t=require("../../utils/getUserEmbeddedSolanaWallet.js"),r=require("../../utils/shouldCreateEmbeddedEthWallet.js"),a=require("../../utils/shouldCreateEmbeddedSolWallet.js");require("../../utils/getAllUserEmbeddedEthereumWallets.js"),require("../../utils/getAllUserEmbeddedSolanaWallets.js");exports.maybeCreateWalletOnLogin=async(s,l,u)=>{let d=r.shouldCreateEmbeddedEthWallet(l.user,u?.ethereum?.createOnLogin??"off"),o=a.shouldCreateEmbeddedSolWallet(l.user,u?.solana?.createOnLogin??"off");if(d&&o){let t=await s.create({recoveryMethod:"privy",skipCallbacks:!0});return{...await s.createSolana({ethereumAccount:e.getUserEmbeddedEthereumWallet(t.user)??void 0}),is_new_user:l.is_new_user,oauth_tokens:l.oauth_tokens}}return d?{...await s.create({recoveryMethod:"privy",solanaAccount:t.getUserEmbeddedSolanaWallet(l.user)??void 0}),is_new_user:l.is_new_user,oauth_tokens:l.oauth_tokens}:o?{...await s.createSolana({ethereumAccount:e.getUserEmbeddedEthereumWallet(l.user)??void 0}),is_new_user:l.is_new_user,oauth_tokens:l.oauth_tokens}:l};
