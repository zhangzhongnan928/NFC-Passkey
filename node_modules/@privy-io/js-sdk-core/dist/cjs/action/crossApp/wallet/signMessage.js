"use strict";var e=require("./utils/isCrossAppWalletSmart.js"),s=require("./utils/sendCrossAppRequest.js"),r=require("./utils/throwIfNotLoggedIn.js");require("../../../Error.js"),require("./utils/getCrossAppAccountByWalletAddress.js"),require("./utils/getProviderAccessTokenOrRelink.js"),require("../linkWithCrossAppAuth.js");exports.signMessage=({client:t,openAuthSession:i})=>{let u=s.sendCrossAppRequest({client:t,openAuthSession:i});return async({user:s,address:t,message:i,redirectUrl:l})=>{r.throwIfNotLoggedIn(s);let o=e.isCrossAppWalletSmart(s,t),{result:n}=await u({user:s,request:{method:o?"privy_signSmartWalletMessage":"personal_sign",params:[i,t]},address:t,redirectUrl:l});return{signature:n}}};
