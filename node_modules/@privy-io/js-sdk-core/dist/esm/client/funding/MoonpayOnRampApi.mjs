import t from"fetch-retry";import{MoonpayOnRampSign as r}from"@privy-io/public-api";import{MoonpayApiError as a}from"../../Error.mjs";import{MoonpayEnvironments as o}from"../../funding/moonpay.mjs";import"@privy-io/chains";let i=class{async sign(t){return await this._privyInternal.fetch(r,{body:t})}async getTransactionStatus({transactionId:r,useSandbox:i}){let{url:n,key:e}=o[i?"sandbox":"prod"],s=await t(fetch,{retries:3,retryDelay:500})(`${n}/transactions/ext/${r}?apiKey=${e}`);if(!s.ok)throw new a({error:`Failed to fetch transaction status for Transaction ${r}`,code:"failed_to_fetch_moonpay_transaction_status",response:s});let c=await s.json();return Array.isArray(c)?c.at(0):void 0}constructor(t){this._privyInternal=t}};export{i as default};
