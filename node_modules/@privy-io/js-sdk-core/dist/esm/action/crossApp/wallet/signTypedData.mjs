import{generateDomainType as t}from"../../../utils/typedData/generateDomainType.mjs";import{isCrossAppWalletSmart as e}from"./utils/isCrossAppWalletSmart.mjs";import{sendCrossAppRequest as r}from"./utils/sendCrossAppRequest.mjs";import{throwIfNotLoggedIn as s}from"./utils/throwIfNotLoggedIn.mjs";import"../../../Error.mjs";import"./utils/getCrossAppAccountByWalletAddress.mjs";import"./utils/getProviderAccessTokenOrRelink.mjs";import"../linkWithCrossAppAuth.mjs";const i=({client:i,openAuthSession:o})=>{let p=r({client:i,openAuthSession:o});return async({user:r,typedData:i,address:o,redirectUrl:m})=>{s(r);let a={method:e(r,o)?"privy_signSmartWalletTypedData":"eth_signTypedData_v4",params:[o,t(i)]},{result:l}=await p({user:r,request:a,address:o,redirectUrl:m});return{signature:l}}};export{i as signTypedData};
