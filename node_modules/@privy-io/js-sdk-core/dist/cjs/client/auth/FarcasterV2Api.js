"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("@privy-io/public-api"),t=require("./maybeCreateWalletOnLogin.js");require("../../utils/getUserEmbeddedEthereumWallet.js"),require("../../utils/getAllUserEmbeddedEthereumWallets.js"),require("../../utils/getUserEmbeddedSolanaWallet.js"),require("../../utils/getAllUserEmbeddedSolanaWallets.js"),require("../../utils/shouldCreateEmbeddedEthWallet.js"),require("../../utils/shouldCreateEmbeddedSolWallet.js");exports.default=class{async initializeAuth(){return await this._privyInternal.fetch(e.FarcasterV2Init,{body:{}})}async authenticate({message:r,signature:s,fid:a},i){let l=await this._privyInternal.fetch(e.FarcasterV2Authenticate,{body:{message:r,signature:s,fid:a}});await this._privyInternal.session.updateWithTokensResponse(l);let d=await t.maybeCreateWalletOnLogin(this._embedded,l,i?.embedded);return this._privyInternal.callbacks?.setUser?.(d.user),d}constructor(e,t){this._privyInternal=e,this._embedded=t}};
