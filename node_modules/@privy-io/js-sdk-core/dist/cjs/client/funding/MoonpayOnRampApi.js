"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var r=require("fetch-retry"),t=require("@privy-io/public-api"),e=require("../../Error.js"),a=require("../../funding/moonpay.js");function n(r){return r&&"object"==typeof r&&"default"in r?r:{default:r}}require("@privy-io/chains");var o=/*#__PURE__*/n(r);exports.default=class{async sign(r){return await this._privyInternal.fetch(t.MoonpayOnRampSign,{body:r})}async getTransactionStatus({transactionId:r,useSandbox:t}){let{url:n,key:i}=a.MoonpayEnvironments[t?"sandbox":"prod"],s=await o.default(fetch,{retries:3,retryDelay:500})(`${n}/transactions/ext/${r}?apiKey=${i}`);if(!s.ok)throw new e.MoonpayApiError({error:`Failed to fetch transaction status for Transaction ${r}`,code:"failed_to_fetch_moonpay_transaction_status",response:s});let u=await s.json();return Array.isArray(u)?u.at(0):void 0}constructor(r){this._privyInternal=r}};
